# Аттестация құжаттарын басқару жүйесі

## Қолданушы нұсқаулығы

### Серверді іске қосу

1. Node.js орнатылғанына көз жеткізіңіз (https://nodejs.org)

2. Терминалда жоба папкасына өтіңіз:
   ```bash
   cd /path/to/detsad
   ```

3. Тәуелділіктерді орнатыңыз:
   ```bash
   npm install
   ```

4. Серверді іске қосыңыз:
   ```bash
   npm start
   ```

5. Браузерде ашыңыз: `http://localhost:3000`

### Серверсіз қолдану

Егер сервер іске қосылмаса, жүйе автоматты түрде браузердің localStorage-ін қолданады (бұрынғыдай).

---

## Жад шектеулері

| Параметр | Мәні |
|----------|------|
| **Макс. файл өлшемі** | **20 MB** |
| **Жалпы жад лимиті** | **5 GB** |
| **Рұқсат етілген формат** | Тек **PDF** |

### Серверлік режим артықшылықтары:
- Файлдар серверде сақталады (браузерде емес)
- 5 GB дейін жад
- Барлық құрылғыларда көрінеді
- Браузер кэшін тазаласаңыз да файлдар сақталады

### localStorage режимі (fallback):
- Файлдар тек бір браузерде көрінеді
- Шамамен 5-10 MB лимит
- Браузер кэшін тазаласаңыз файлдар жоғалады

---

## Админ панельге кіру

1. Браузерде ашыңыз: `http://localhost:3000/admin.html`
2. Құпия сөзді енгізіңіз: `admin2024`
3. "Кіру" батырмасын басыңыз

### PDF файлдарын жүктеу

1. Сол жақ панельден санатты таңдаңыз
2. Егер санатта ішкі санаттар болса, оларды таңдаңыз
3. "PDF файлын таңдау" батырмасын басып, компьютерден файлды таңдаңыз
4. "Файлды жүктеу" батырмасын басыңыз

### Файлдарды көру және өшіру

1. Санатты таңдағаннан кейін, төменде барлық жүктелген файлдар көрсетіледі
2. "Қарау" батырмасы - файлды ашу үшін
3. "Өшіру" батырмасы - файлды жою үшін

---

## Техникалық ақпарат

### Файлдар құрылымы:

```
detsad/
├── server.js              # Node.js сервер
├── package.json           # Жоба конфигурациясы
├── uploads/               # Жүктелген файлдар (серверлік режим)
├── server-data.json       # Деректер базасы (серверлік режим)
├── admin.html             # Админ панель
├── attestation/
│   ├── pdfs/              # PDF файлдар (ескі)
│   ├── data.json          # Бастапқы құрылым
│   ├── admin.js           # Админ панель логикасы
│   ├── viewer.js          # Қолданушы интерфейсі
│   └── README.md          # Бұл файл
└── links/
    └── attestation.html   # Аттестация беті
```

### Құпия сөзді өзгерту:

`attestation/admin.js` файлында:
```javascript
const ADMIN_PASSWORD = 'admin2024'; // Осы жолды өзгертіңіз
```

### Сервер баптаулары:

`server.js` файлында:
```javascript
const CONFIG = {
    MAX_FILE_SIZE: 20 * 1024 * 1024,  // 20 MB
    MAX_STORAGE_SIZE: 5 * 1024 * 1024 * 1024,  // 5 GB
    UPLOAD_DIR: path.join(__dirname, 'uploads'),
    DATA_FILE: path.join(__dirname, 'server-data.json')
};
```

### API эндпоинттері:

| Метод | URL | Сипаттама |
|-------|-----|-----------|
| GET | `/api/data` | Барлық санаттар мен файлдар |
| GET | `/api/storage-info` | Жад туралы ақпарат |
| POST | `/api/upload` | Жаңа файл жүктеу |
| DELETE | `/api/files/:id` | Файлды өшіру |

---

## Хостингке орналастыру

### VPS/Cloud сервер:

1. Node.js орнатыңыз
2. Жобаны серверге көшіріңіз
3. `npm install` командасын орындаңыз
4. PM2 орнатыңыз: `npm install -g pm2`
5. Серверді іске қосыңыз: `pm2 start server.js`
6. Nginx немесе Apache арқылы proxy орнатыңыз

### Қарапайым хостинг (PHP):

Бұл жоба Node.js қолданады. Қарапайым PHP хостингте жұмыс істемейді.
Бірақ серверсіз режимде (localStorage) жұмыс істей алады.

---

## Жиі қойылатын сұрақтар

**С: Сервер іске қосылмайды, не істеу керек?**
Ж: Node.js орнатылғанын тексеріңіз: `node --version`. Егер орнатылмаса, https://nodejs.org сайтынан жүктеп алыңыз.

**С: "EADDRINUSE" қатесі шығады?**
Ж: 3000 порты басқа бағдарлама қолдануда. Сол бағдарламаны жабыңыз немесе server.js-те PORT мәнін өзгертіңіз.

**С: Файлдар қайда сақталады?**
Ж: Серверлік режимде `/uploads` папкасында. localStorage режимінде браузер жадында.

**С: "Жад толды" қатесі шығады?**
Ж: 5 GB лимитіне жеттіңіз. Кейбір файлдарды өшіріңіз.

**С: Құпия сөзді ұмыттым?**
Ж: `attestation/admin.js` файлында жаңа құпия сөз орнатыңыз.

---

## Қолдау

Сұрақтар болса, әзірлеушіге хабарласыңыз.
